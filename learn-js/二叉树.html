<script>
  function Tree(){
    this.val = 0
    this.left = null
    this.right = null
  }
  //将 array binarry tree convert to 链式表示的二叉树】
  function ary2tree(ary,i=0){
    let root = new Tree()
    if(ary[i] == null){
      return null
    }
    root.val = ary[i]
    root.left = ary2tree(ary,2*i + 1)
    root.right = ary2tree(ary,2*i + 2)

    return root
  }
  //将由链式表达式表达的二叉树转换为数组方法
  function tree2ary(root,idx = 0,res = []){
    if(!root){
      return
    }
    res[idx] = root.val
    tree2ary(root.left,idx * 2 + 1,res)
    tree2ary(root.right,idx * 2 + 2,res)
    return res
  }


  //二叉搜索树
  //利用二叉搜索树排序 btsSort(ary)
  function btsSort(ary){
    let tree = null
    for (let i = 0; i < ary.length; i++){
      tree = insertIntoBST(tree,ary[i])
    }

    let res = []
    inOrderTraverse(tree,val=>{
      res.push(val)
    })
    return res
  }
  //inOrderTraverse 中序遍历
  //把遍历到的值通过action函数处理
  function inOrderTraverse(tree,action){
    if(root){
      inOrderTraverse(root.left)
      action(root.val)
      inOrderTraverse(root.right)
    }
  }
  //insertIntoBST 将值插入到bst中，并返回根节点
  function insertIntoBST(bst,val){
    if(bst == null){
      return Tree(val)
    }
    if(val < bst.val){
      bst.left = insertIntoBST(bst.left,val)
    }else{
      bst.right = insertIntoBST(bst.right,val)
    }
    return bst
  }
</script>
